# ๐ MikroTik CAPsMAN Updater

ะกะบัะธะฟั ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั CAPsMAN-ะฐะดัะตัะพะฒ ะฝะฐ ััััะพะนััะฒะฐั MikroTik ั ะฟะพะผะพััั Netmiko. ะฃะดะพะฑะฝัะน CLI-ะธะฝัะตััะตะนั, ะปะพะณะธัะพะฒะฐะฝะธะต ะธ ะดะฒะฐ ัะตะถะธะผะฐ ะฒะฒะพะดะฐ: ะฒัััะฝัั ะธะปะธ ะธะท ัะฐะนะปะฐ.

---

## ๐ฆ ะะพะทะผะพะถะฝะพััะธ

โ ะะฐััะพะฒะพะต ะพะฑะฝะพะฒะปะตะฝะธะต `/interface wireless cap set caps-man-addresses=...`  
โ ะะพะดะดะตัะถะบะฐ ัััะฝะพะณะพ ะธ ัะฐะนะปะพะฒะพะณะพ ัะตะถะธะผะฐ  
โ ะฃะดะพะฑะฝัะน CLI-ะธะฝัะตััะตะนั ัะตัะตะท `--mode`, `--file`, `--user`, `--capsman`  
โ ะะพะณะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ ัะฐะฑะพัั  
โ ะะฐะดะตัะถะบะฐ ะผะตะถะดั ััััะพะนััะฒะฐะผะธ ะดะปั ััะฐะฑะธะปัะฝะพััะธ

---

## ๐๏ธ ะฃััะฐะฝะพะฒะบะฐ

```bash
git clone https://github.com/netscripor/capsman_updater.git
cd capsman_updater
pip install -r requirements.txt
````

---

## ๐ ะัะธะผะตัั ะทะฐะฟััะบะฐ

### ะะฒะพะด IP-ะฐะดัะตัะพะฒ ะฒัััะฝัั

```bash
python3 update_capsman.py \
  --mode manual \
  --user admin \
  --capsman 172.17.1.83,172.17.1.84
```

๐ก ะะพัะปะต ะทะฐะฟััะบะฐ ะฒะฐั ะฟะพะฟัะพััั ะฒะฒะตััะธ IP-ะฐะดัะตัะฐ ััััะพะนััะฒ ะธ ะทะฐะฒะตััะธัั ะฒะฒะพะด ะบะพะผะฐะฝะดะพะน `end`.

---

### ะะฐะณััะทะบะฐ ะฐะดัะตัะพะฒ ะธะท ัะฐะนะปะฐ

```bash
python3 update_capsman.py \
  --mode file \
  --file example/hosts.txt \
  --user admin \
  --capsman 172.17.1.83,172.17.1.84
```

ะคะฐะนะป ะดะพะปะถะตะฝ ัะพะดะตัะถะฐัั ัะฟะธัะพะบ IP-ะฐะดัะตัะพะฒ ะฟะพ ะพะดะฝะพะผั ะฒ ัััะพะบะต, ะฝะฐะฟัะธะผะตั:

```
192.168.88.1
192.168.88.2
```

---

## โ๏ธ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะฟะฐัะฐะผะตััั

|ะะฐัะฐะผะตัั|ะะฟะธัะฐะฝะธะต|ะะฑัะทะฐัะตะปะตะฝ|
|---|---|---|
|`--mode`|`manual` ะธะปะธ `file` โ ัะฟะพัะพะฑ ะฒะฒะพะดะฐ IP-ะฐะดัะตัะพะฒ|โ|
|`--file`|ะััั ะบ ัะฐะนะปั ั ะฐะดัะตัะฐะผะธ (ะฝัะถะตะฝ ะฟัะธ `--mode file`)|๐ก|
|`--user`|ะะพะณะธะฝ ะดะปั ะฟะพะดะบะปััะตะฝะธั ะบ MikroTik|โ|
|`--capsman`|ะะพะฒัะต ะฐะดัะตัะฐ CAPsMAN ัะตัะตะท ะทะฐะฟัััั|โ|
|`--log`|ะคะฐะนะป ะดะปั ะปะพะณะพะฒ (ะฟะพ ัะผะพะปัะฐะฝะธั: `capsman_update.log`)|โ|
|`--delay`|ะะฐะดะตัะถะบะฐ ะผะตะถะดั ััััะพะนััะฒะฐะผะธ ะฒ ัะตะบัะฝะดะฐั (ะฟะพ ัะผะพะปัะฐะฝะธั 10)|โ|

---

## ๐ ะัะธะผะตั ะปะพะณะพะฒ

```log
python3 update_capsman.py --mode manual --user admin --capsman 172.17.1.83,172.17.1.84
ะะฒะตะดะธัะต ะฟะฐัะพะปั:
ะะฒะตะดะธัะต IP-ะฐะดัะตัะฐ (ะฟะพ ะพะดะฝะพะผั ะฒ ัััะพะบะต). ะะปั ะทะฐะฒะตััะตะฝะธั ะฒะฒะตะดะธัะต 'end':
> 10.118.10.2
> end
ะะฐะนะดะตะฝะพ ััััะพะนััะฒ: 1
[+] ะะพะดะบะปััะตะฝะธะต ะบ 10.118.10.2...
[โ] ะะฑะฝะพะฒะปะตะฝะพ ะฝะฐ 10.118.10.2

ะะตะทัะปััะฐั: ััะฟะตัะฝะพ โ 1, ั ะพัะธะฑะบะพะน โ 0

```

---

## ๐ง ะะฐะฒะธัะธะผะพััะธ
```
netmiko==4.2.0
colorama==0.4.3
```
---

๐ก ะะพะดะฟะธัะธัั ะธ ะฟะพะดะดะตัะถะธ ะฟัะพะตะบั:

๐ GitHub: [github.com/netscripor](https://github.com/netscripor)  
๐ฐ Boosty: [boosty.to/netscripor](https://boosty.to/netscripor)  
โ๏ธ Telegram-ะบะฐะฝะฐะป: [t.me/netscripor](https://t.me/netscripor)

โญ๏ธ ะะพะดะดะตัะถะธ ะฟัะพะตะบั ะทะฒะตะทะดะพะน  
๐ ะะฐััะป ะฑะฐะณ ะธะปะธ ะตััั ะธะดะตั? ะกะพะทะดะฐะน Issue!
